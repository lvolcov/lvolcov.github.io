class People{constructor(e,o,t,s,a){this.name=e,this.wealth=o,this.win=t,this.lose=s,this.winSentence=a}}const people=[];people[0]=new People("Jeff Bezos",2e11,"./images/win_lose/jeff_win.jpg","./images/win_lose/jeff_lose.jpg","Jeff is incredibly happy! You helped him and now he can return to his home planet with all the useful items you bought for him."),people[1]=new People("Bill Gates",1137e8,"./images/win_lose/bill_win.jpg","./images/win_lose/bill_lose.jpg","Look how happy Bill is right now, without so much money in his pocket, he can follow his dream of being a Twitch streamer."),people[2]=new People("Mark Zuckerberg",111e9,"./images/win_lose/mark_win.jpg","./images/win_lose/mark_lose.jpg",'Mark cannot describe how happy he is right now, I heard he saying "No money, no worries". As now he no longer needs to explain to the US congress the difference between an e-mail and a Whatsapp.'),people[3]=new People("Larry Page",694e8,"./images/win_lose/larry_win.jpg","./images/win_lose/larry_lose.jpg","After years of helping people find things, Larry has now been helped by you to find his true happiness and he can live his life in peace with his best and only imaginary friend. Look how cool they are together."),people[4]=new People("Elon Musk",985e8,"./images/win_lose/elon_win.jpg","./images/win_lose/elon_lose.jpg","Elon is forever grateful to you! After you helped him, he finally got free time and was able to put his efforts into his project to launch his X Ã† A-Xii spacecraft.");class Goods{constructor(e,o,t,s,a){this.prefix=e,this.name=o,this.price=t,this.img=s,this.source=a}}const goods=[];let person,playerName;goods[0]=new Goods("Buy a ","Flip Flop",26,"./images/goods/flipflop.jpg","https://www.amazon.com/s?k=flip+flop+havaianas"),goods[1]=new Goods("Buy a ","Luxury Helicopter",3e6,"./images/goods/helicopter.jpg","https://www.luxify.com/blogs/articles/top-10-luxury-helicopters-world"),goods[2]=new Goods("Hire a ","Messi",33e7,"./images/goods/messi.jpg","https://www.gq.com/story/the-price-of-lionel-messi-leaving-barcelona"),goods[3]=new Goods("Hire a ","Cristiano Ronaldo",11e7,"./images/goods/cr7.jpg","https://www.nytimes.com/2018/07/10/sports/ronaldo-juventus.html"),goods[4]=new Goods("Buy a ","iPhone SE",399,"./images/goods/iphonese.jpg","https://www.apple.com/iphone-se/"),goods[5]=new Goods("Buy a ","McDonaldâ€™s Net Worth",3149135e4,"./images/goods/mcdonalds.jpg","https://www.gobankingrates.com/investing/strategy/how-much-is-mcdonalds-worth/"),goods[6]=new Goods("Buy a ","Jamaica's GDP",15714e6,"./images/goods/jamaica.jpg","https://en.wikipedia.org/wiki/List_of_countries_by_GDP_(nominal)"),goods[7]=new Goods("Buy a ","Uruguay's GDP",59597e6,"./images/goods/uruguay.jpg","https://en.wikipedia.org/wiki/List_of_countries_by_GDP_(nominal)"),goods[8]=new Goods("Build an ","Empire States",555e6,"./images/goods/empire.jpg","https://en.wikipedia.org/wiki/Empire_State_Building"),goods[9]=new Goods("Buy a ","Brazillian Popular Car",9e3,"./images/goods/gol.jpg","https://www.icarros.com.br/comprar/0km/volkswagen/gol"),goods[10]=new Goods("Buy a ","Queen Elizabeth net worth",44292e4,"./images/goods/queen.jpg","https://www.insider.com/where-does-the-royal-family-get-money-2017-1"),goods[11]=new Goods("Hire the entire ","Liverpool squad",2438475e3,"./images/goods/liverpool.jpg","https://www.mirror.co.uk/sport/football/news/jurgen-klopp-evolved-liverpool-squad-21295509"),goods[12]=new Goods("Book a ","World Cruise (180 days)",38499,"./images/goods/cruise.jpg","https://www.cruisecritic.com/news/3762/"),goods[13]=new Goods("Buy a ","Los Angeles Lakers franchise",44e8,"./images/goods/lakers.jpg","https://chicago.suntimes.com/bulls/2020/2/11/21133749/bulls-forbes-nba-franchise-values"),goods[14]=new Goods("Buy a ","New England Patriots team",41e8,"./images/goods/patriots.jpg","https://www.forbes.com/teams/new-england-patriots/#306e371b966e"),goods[15]=new Goods("Buy a ","Yacht",84e5,"./images/goods/yacht.jpg","https://www.godownsize.com/average-yacht-prices/"),goods[16]=new Goods("Buy a ","Lamborghini Veneno",45e5,"./images/goods/Lamborghini.jpg","https://www.boxymo.ie/news/most-expensive-cars-in-the-world.aspx"),goods[17]=new Goods("Buy a ","Ferrari LaFerrari",14e5,"./images/goods/ferrari.jpg","https://www.boxymo.ie/news/most-expensive-cars-in-the-world.aspx"),goods[18]=new Goods("Pay the ","Brazillian indenpendence fee paid to portugal",250733376,"./images/goods/pt.jpg","https://en.wikipedia.org/wiki/United_Kingdom_of_Portugal,_Brazil_and_the_Algarves");try{person=window.location.search.substring(1),person=CryptoJS.enc.Base64.parse(person).toString(CryptoJS.enc.Utf8),playerName=window.location.hash.substring(1),playerName=(playerName=CryptoJS.enc.Base64.parse(playerName).toString(CryptoJS.enc.Utf8)).split("_")[4],person>=0&&person<5&&""!==playerName&&null!=playerName&&null!=person&&""!==person||(alert("Please, don't touch the URL!"),window.location="./index.html")}catch(e){alert("Please, don't touch the URL!"),window.location="./index.html"}const formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0});function convert(e){return e>1e9?formatter.format(e/1e9)+" Billions":e>1e6?formatter.format(e/1e6)+" Millions":formatter.format(e)}const randomGoods=[];function random(){let e=0;for(;e<4;){let o=Math.floor(19*Math.random());0!==e&&randomGoods.includes(o)||(randomGoods.push(o),e++)}}let qtd,valid,form_selected=[!1,!1,!1,!1],submissions=5,hints=3,scores=1e4;function check_inputs(){qtd=[$("#qtd0").serializeArray()[0].value,$("#qtd1").serializeArray()[0].value,$("#qtd2").serializeArray()[0].value,$("#qtd3").serializeArray()[0].value],valid=[$("#valid0"),$("#valid1"),$("#valid2"),$("#valid3")];let e=!0;for(let o=0;o<qtd.length;o++){const t=form_selected.reduce((e,o)=>e+o,0);form_selected[o]?null!=qtd[o]&&Number.isSafeInteger(1*qtd[o])&&0!==qtd[o].indexOf("-")&&""!==qtd[o]?(qtd[o]=parseInt(qtd[o]),valid[o].html("&nbsp;")):(e=!1,valid[o].text("Input not valid")):t<3&&(e=!1)}return e&&!endGame&&$("#submit").removeAttr("disabled"),e||$("#submit").attr("disabled",!0),e}const target=people[person].wealth;function submit_answer(){check_inputs();let e=0;for(let o=0;o<qtd.length;o++)e+=qtd[o]*prices[o];e<=target&&e>=.9*target?win(e):submissions>0&&scores>500?(scores_penalty(-500),wrong_answer(e)):lose()}function variety(e,o,t,s,a){let n=Math.sqrt(((o/e-.25)*(o/e-.25)+(t/e-.25)*(t/e-.25)+(s/e-.25)*(s/e-.25)+(a/e-.25)*(a/e-.25))/4);return Number((.433-n)/.433*.25)>=0?Number((.433-n)/.433*.25):0}function win(e){endGame=!0,$("#tip").attr("disabled",!0),$("#submit").attr("disabled",!0),$("#scoreCounting").text(scores).css("color","green"),$("#modal_win_lose").modal("show").css("overflow-y","auto"),$("#modal_win_lose_title").html("YOU WIN! ðŸŽ‰ ðŸŽ‰ ðŸŽ‰"),$("#win_lose").attr("src",people[person].win),$("#modal_win_lose_body").html(people[person].winSentence),$("#modal_win_lose_button").text("Play again!");const o=variety(e,qtd[0]*prices[0],qtd[1]*prices[1],qtd[2]*prices[2],qtd[3]*prices[3]);$("#tableWin").show(),$(".modal-body #tableItem0").html(`<a href=${goods[randomGoods[0]].source} target="_blank">${goods[randomGoods[0]].name}</a>`),$(".modal-body #tablePriceItem0").text(convert(prices[0])),$(".modal-body #tableUnitsItem0").text(qtd[0]),$(".modal-body #tableTotalItem0").text(convert(qtd[0]*prices[0])),$(".modal-body #tableItem1").html(`<a href=${goods[randomGoods[1]].source} target="_blank">${goods[randomGoods[1]].name}</a>`),$(".modal-body #tablePriceItem1").text(convert(prices[1])),$(".modal-body #tableUnitsItem1").text(qtd[1]),$(".modal-body #tableTotalItem1").text(convert(qtd[1]*prices[1])),$(".modal-body #tableItem2").html(`<a href=${goods[randomGoods[2]].source} target="_blank">${goods[randomGoods[2]].name}</a>`),$(".modal-body #tablePriceItem2").text(convert(prices[2])),$(".modal-body #tableUnitsItem2").text(qtd[2]),$(".modal-body #tableTotalItem2").text(convert(qtd[2]*prices[2])),$(".modal-body #tableItem3").html(`<a href=${goods[randomGoods[3]].source} target="_blank">${goods[randomGoods[3]].name}</a>`),$(".modal-body #tablePriceItem3").text(convert(prices[3])),$(".modal-body #tableUnitsItem3").text(qtd[3]),$(".modal-body #tableTotalItem3").text(convert(qtd[3]*prices[3])),$(".modal-body #tableTotal").text(convert(e)),$(".modal-body #variety").text((100*o).toFixed(2)+"%"),$(".modal-body #tableAccuracy").text((e/people[person].wealth*100).toFixed(2)+"%"),$(".modal-body #tableBonus").text(Math.ceil(5*scores*(e/people[person].wealth-.9)).toLocaleString()),$(".modal-body #bonusVariety").text(Math.ceil(scores*o*3).toLocaleString()),scores+=Math.ceil(5*scores*(e/people[person].wealth-.9))+Math.ceil(scores*o*3),$(".modal-body #tableTotalScore").text(scores.toLocaleString()),submitLeaderboard()}let endGame=!1;function lose(){endGame=!0,$("#tip").attr("disabled",!0),$("#submit").attr("disabled",!0),scores=0,$("#scoreCounting").text(scores).css("color","red"),$("#modal_win_lose").modal("show"),$("#modal_win_lose_title").text("YOU LOSE!"),$("#win_lose").attr("src",people[person].lose),$("#modal_win_lose_body").html(people[person].name+" is really disappointed with you!<br> You were his last hope, now he doesn't know how to spend all his humongous amount of money and sees himself obligated to live the rest of his life with the guilt of being so rich while you... <br>Well, you're not... ðŸ˜… ðŸ˜… ðŸ˜…"),$("#modal_win_lose_button").text("Try again!")}function wrong_answer(e){e<.9*target?($("#text_wrong").text("ðŸ’° ðŸ’° You need to spend more money! ðŸ’° ðŸ’°"),$("#wrong").modal("show")):($("#text_wrong").text("ðŸ’¸ ðŸ’¸ You have to spend less money! ðŸ’¸ ðŸ’¸"),$("#wrong").modal("show"))}let tipsFields,tables,tips=[!0,!0,!0,!0];function show_tip(){if(tipsFields=[$("#tip0"),$("#tip1"),$("#tip2"),$("#tip3")],tables=[$("#table0"),$("#table1"),$("#table2"),$("#table3")],tips.reduce((e,o)=>e+o,0)<1)return;if(hints<1)return;let e=!0;for(;e;){let o=Math.floor(4*Math.random());tips[o]&&(tips[o]=!1,$("body,html").animate({scrollTop:$(tables[o]).offset().top},800),scores_penalty(-1e3),tipsFields[o].fadeOut().fadeIn().fadeOut().fadeIn(),tipsFields[o].html("Price: "+convert(goods[randomGoods[o]].price)),e=!1)}}function scores_penalty(e){scores+=e,$("#scoreCounting").text(scores),$("#score").css("color","red").fadeOut().fadeIn().fadeOut().fadeIn().queue(function(){$("#score").css("color","white").dequeue()}),scores<0&&lose()}let waitingTime=10;var x=setInterval(function(){waitingTime>=1?waitingTime--:endGame||($("#scoreCounting").text(scores),scores<=0?lose():scores-=10)},1e3);const prices=[];function submitLeaderboard(){const e=CryptoJS.enc.Base64.parse("aHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J3NDh6aTlld0JPMDZaWnZnMGxYWXNINVhkMmxJWTVleWc1akFJU1FNV0xCR2ppd1gwL2V4ZWM=").toString(CryptoJS.enc.Utf8);let o=new FormData;o.append("name",playerName),o.append("attempts",5-submissions),o.append("tips",3-hints),o.append("scorefinal",Number(-1*scores)),o.append("choice",people[person].name),fetch(e,{method:"POST",body:o}).then(e=>console.log("Success!",e)).catch(e=>console.error("Error!",e.message))}$(function(){$(random()),$("#name").text(people[person].name),$("#amount").text(convert(people[person].wealth)),$("#item0").text(goods[randomGoods[0]].prefix+goods[randomGoods[0]].name),$("#img0").attr("src",goods[randomGoods[0]].img),$(prices.push(goods[randomGoods[0]].price)),$("#item1").text(goods[randomGoods[1]].prefix+goods[randomGoods[1]].name),$("#img1").attr("src",goods[randomGoods[1]].img),$(prices.push(goods[randomGoods[1]].price)),$("#item2").text(goods[randomGoods[2]].prefix+goods[randomGoods[2]].name),$("#img2").attr("src",goods[randomGoods[2]].img),$(prices.push(goods[randomGoods[2]].price)),$("#item3").text(goods[randomGoods[3]].prefix+goods[randomGoods[3]].name),$("#img3").attr("src",goods[randomGoods[3]].img),$(prices.push(goods[randomGoods[3]].price)),$(window).scrollTop(0),$("#submit").on("click",function(e){check_inputs()?(submissions--,$("#submissions").text(submissions),submit_answer()):$("#submit").attr("disabled",!0)}),$("#tip").on("click",function(e){show_tip(),hints--,$("#tip_message").text(hints),hints<1&&$("#tip").attr("disabled",!0)}),$(".form-control").on("input",function(){check_inputs()}),$("#qtd0").change(function(){form_selected[0]=!0,check_inputs()}),$("#qtd1").change(function(){form_selected[1]=!0,check_inputs()}),$("#qtd2").change(function(){form_selected[2]=!0,check_inputs()}),$("#qtd3").change(function(){form_selected[3]=!0,check_inputs()}),$("#modal_win_lose").on("hidden.bs.modal",function(){window.location="./index.html"})}),$(document).on("click","#modal_win_lose_button",function(){window.location="./index.html"}),$(document).on("click","#modal_leaderboard_button",function(){window.location="./index.html?leaderboard"});
